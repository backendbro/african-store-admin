<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard | Product List</title>
    
    <script src="js/checkadmin.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }
    
    
        .spinner {
            width: 15px;
            height: 15px;
            border: 2px solid #fff;
            border-top: 2px solid transparent;
            border-radius: 50%;
            display: inline-block;
            animation: spin 0.5s linear infinite;
            margin-right: 5px;
            vertical-align: middle;
          }
          
          @keyframes spin {
            to {
              transform: rotate(360deg);
            }
          }
          
    </style>
</head>

<body class="bg-gray-100">
    <div class="flex min-h-screen flex-col md:flex-row">
        <!-- Sidebar -->
        <aside class="w-full border-r bg-white md:w-64">
            <div class="flex h-14 items-center justify-between border-b px-4">
                <a href="/" class="flex items-center gap-2 font-semibold">
                    <img src="assest/img/african logo.jpg" alt="" class="" />

                </a>
                <button data-drawer-target="default-sidebar" data-drawer-toggle="default-sidebar"
                    aria-controls="default-sidebar" type="button"
                    class="inline-flex items-center p-2 mt-2 ms-3 text-sm text-gray-500 rounded-lg lg:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 cusor-pointer ">
                    <span class="sr-only">Open sidebar</span>
                    <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20"
                        xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd" fill-rule="evenodd"
                            d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z">
                        </path>
                    </svg>
                </button>
            </div>


            <aside id="default-sidebar"
                class="fixed top-0 left-0 z-40 w-64 h-screen transition-transform -translate-x-full sm:translate-x-0 lg:hidden"
                aria-label="Sidebar">
                <div class="h-full px-3 py-4 overflow-y-auto bg-gray-50 ">

                    <nav class="space-y-1.5 p-4  lg:hidden">
                        <a href="./index.html"
                            class="flex items-center gap-3 rounded-lg bg-gray-100 px-3 py-2 text-gray-900">
                            <i class="ri-home-line"></i>
                            Dashboard
                        </a>
                        <a href="./orders-list.html"
                            class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900">
                            <i class="ri-shopping-bag-line"></i>
                            Orders
                        </a>
                        <div class="relative">

                            <button
                                class="flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900"
                                onclick="toggleDropdown()">
                                <i class="ri-gift-line"></i>
                                Products
                                <i class="ri-arrow-down-s-line ml-auto transition-transform duration-200"
                                    id="dropdownArrow"></i>
                            </button>

                            <div class="hidden space-y-1.5 pl-8" id="productsDropdown">
                                <a href="./product-list.html"
                                    class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900">
                                    Product List
                                </a>
                                <a href="./add-product.html"
                                
                                    class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900">
                                    Add Product
                                </a>
                            </div>
                        </div>

                        <a href="#"
                            class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900">
                            <i class="ri-settings-line"></i>
                            Settings
                        </a>
                    </nav>

                </div>
            </aside>

            <nav class="space-y-1.5 p-4  hidden lg:block">
                <a href="./index.html" class="flex items-center gap-3 rounded-lg bg-gray-100 px-3 py-2 text-gray-900">
                    <i class="ri-home-line"></i>
                    Dashboard
                </a>
                <a href="./orders-list.html"
                    class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900">
                    <i class="ri-shopping-bag-line"></i>
                    Orders
                </a>
                <div class="relative">
                    <button
                        class="flex w-full items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900"
                        onclick="toggleDropdown2()">
                        <i class="ri-gift-line"></i>
                        Products
                        <i class="ri-arrow-down-s-line ml-auto transition-transform duration-200"
                            id="dropdownArrow2"></i>
                    </button>
                    <div class="hidden space-y-1.5 pl-8" id="productsDropdown2">
                        <a href="./product-list.html"
                            class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900">
                            Product List
                        </a>
                        <a href="./add-product.html"
                            class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900">
                            Add Product
                        </a>
                    </div>
                </div>

                <a href="#" class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-500 hover:text-gray-900">
                    <i class="ri-settings-line"></i>
                    Settings
                </a>
            </nav>

        </aside>

        <!-- Main Content -->
        <main class="flex-1"">

               <!-- Header -->
               <header class=" flex h-14 items-center justify-between border-b bg-white px-4 lg:px-8">
            <h2 class="font-semibold hidden lg:flex">Dashboard</h2>
            <form class="flex-1 sm:flex-initial">
                <div class="relative">
                    <input type="search" placeholder="Search by keywords..."
                        class="w-full rounded-md border border-gray-300 bg-white px-3 py-2 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 sm:w-[300px]">
                    <button type="submit" class="absolute inset-y-0 right-0 flex items-center px-2">
                        <i class="ri-search-line text-gray-400"></i>
                    </button>
                </div>
            </form>
            <button class="rounded-full p-1 hover:bg-gray-100">
                <img src="assest/img/avatar1.jpg" alt="Avatar" class="h-8 w-8 rounded-full">
            </button>
            </header>

            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 p-2">
                <div class="p-2">
                    <h1 class="text-2xl font-semibold">Add New Product</h1>
                    <p class="text-sm text-gray-500">Add a new product to your store</p>
                </div>
                <div class="flex gap-2">
                    <button class="px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50">
                        Save Draft
                    </button>
                    <button class="px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800" id="submitButton">
                        Add Product
                    </button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Main Form -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- General Information -->
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-lg font-medium mb-6">General Information</h2>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Product Name
                                </label>
                                <input type="text" id="productName" class="w-full px-3 py-2 border rounded-md"
                                    placeholder="Enter product name">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Description
                                </label>
                                <textarea rows="4" class="w-full px-3 py-2 border rounded-md"
                                id="productDescription"
                                    placeholder="Enter product description"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Pricing & Stock -->
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-lg font-medium mb-6">Pricing & Stock</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Base Price
                                </label>
                                <div class="relative">
                                    <span
                                        class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500">₤</span>
                                    <input type="number" class="w-full pl-7 px-3 py-2 border rounded-md"
                                    id="basePrice"    
                                    placeholder="0.00">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Stock Quantity
                                </label>
                                <input id="StockQuantity" type="number" class="w-full px-3 py-2 border rounded-md" placeholder="0">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Discount
                                </label>
                                <div class="relative">
                                    <input type="number" id="discount" class="w-full pr-12 px-3 py-2 border rounded-md"
                                        placeholder="0">
                                    <span
                                        class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500">%</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Discount Type
                                </label>
                                <select id="discount-type" class="w-full px-3 py-2 border rounded-md">
                                    <option value="no-discount">No Discount</option>
                                    <option value="percentage">Percentage</option>
                                    <option value="fixed-amount">Fixed Amount</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Variants -->
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-lg font-medium mb-6">Variants</h2>
                        <div class="space-y-4">
                            <!-- Quantity Section -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Quantity
                                </label>
                                <div class="flex flex-wrap gap-2">
                                    <label
                                        class="inline-flex items-center px-3 py-2 rounded-md bg-green-100 text-green-800 text-sm cursor-pointer">
                                        <input type="checkbox" class="hidden">
                                        250g
                                    </label>
                                    <label
                                        class="inline-flex items-center px-3 py-2 rounded-md bg-green-100 text-green-800 text-sm cursor-pointer">
                                        <input type="checkbox" class="hidden">
                                        500g
                                    </label>
                                    <label
                                        class="inline-flex items-center px-3 py-2 rounded-md bg-green-100 text-green-800 text-sm cursor-pointer">
                                        <input type="checkbox" class="hidden">
                                        1kg
                                    </label>
                                    <label
                                        class="inline-flex items-center px-3 py-2 rounded-md bg-gray-100 text-gray-800 text-sm cursor-pointer">
                                        <input type="checkbox" class="hidden">
                                        5kg
                                    </label>
                                    <label
                                        class="inline-flex items-center px-3 py-2 rounded-md bg-gray-100 text-gray-800 text-sm cursor-pointer">
                                        <input type="checkbox" class="hidden">
                                        10kg
                                    </label>
                                </div>
                            </div>
                            <!-- Packaging Type Section -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    Packaging Type
                                </label>
                                <div class="flex gap-4">
                                    <label class="inline-flex items-center">
                                      <input type="radio" name="packaging" value="plastic" class="text-black">
                                      <span class="ml-2">Plastic</span>
                                    </label>
                                    <label class="inline-flex items-center">
                                      <input type="radio" name="packaging" value="paper" class="text-black">
                                      <span class="ml-2">Paper</span>
                                    </label>
                                    <label class="inline-flex items-center">
                                      <input type="radio" name="packaging" value="box" class="text-black">
                                      <span class="ml-2">Box</span>
                                    </label>
                                  </div>
                                  
                                  
                                  
                                  
                                  
                            </div>
                        </div>
                    </div>

                </div>

                <!-- Sidebar -->
                <div class="space-y-6">
                    <!-- Image Upload -->
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-lg font-medium mb-6">Product Images</h2>
                        <div class="space-y-4">
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center">
                                <div class="mx-auto flex justify-center mb-4">
                                    <i class="ri-image-add-line text-4xl text-gray-400"></i>
                                </div>
                                <div class="text-sm text-gray-600">
                                    <label
                                        class="relative cursor-pointer rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500">
                                        <span>Upload a file</span>
                                        <input type="file" id="productImage" class="sr-only" multiple>
                                    </label>
                                    <p class="pl-1">or drag and drop</p>
                                    <p class="text-xs text-gray-500">PNG, JPG, GIF up to 10MB</p>
                                </div>
                            </div>
                            <div class="grid grid-cols-3 gap-2">
                                <div id="imagePreviewContainer" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                                
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Category -->
                    <div class="bg-white rounded-lg shadow-sm p-6 max-w-md mx-auto">
                        <h2 class="text-lg font-medium mb-6">Product Categories</h2>

                        <!-- Display Selected Categories -->
                        <div id="selectedCategories" class="flex flex-wrap gap-2 mb-2"></div>

                        <!-- Category Selection Dropdown -->
                        <div class="relative">
                            <button id="toggleDropdownBtn"
                                class="w-full px-4 py-3 text-left text-gray-600 bg-white border rounded-lg shadow-sm flex items-center justify-between hover:border-purple-500 focus:outline-none focus:border-purple-500">
                                <span class="text-gray-400">Select product category</span>
                                <span id="dropdownIcon" class="text-gray-400">&#9660;</span> <!-- Chevron Icon -->
                            </button>

                            <!-- Dropdown Content -->
                            <div id="categoryDropdown"
                                class="hidden absolute w-full mt-2 bg-white border rounded-lg shadow-lg z-10">
                                <div class="p-2 border-b">
                                    <div class="relative">
                                        <input type="text" id="searchInput" placeholder="Search for categories"
                                            class="w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:border-purple-500">
                                    </div>
                                </div>

                                <!-- Categories List -->
                                <div id="categoryList" class="max-h-60 overflow-y-auto"></div>

                                <!-- Add New Category Button -->
                                <button id="openCreateModalBtn"
                                    class="w-full p-3 text-purple-600 hover:bg-purple-50 flex items-center justify-center gap-2 border-t">
                                    <span class="text-purple-600">+ Create new category</span>
                                </button>
                            </div>
                        </div>
                    
                        <div class="flex gap-2 mt-3">
                          
                            <button class="px-4 py-2 bg-black text-white rounded-md hover:bg-gray-800">
                                Upload Product
                            </button>
                        </div>
                    </div>

                    <!-- Modal for Creating New Category -->
                    <div id="createCategoryModal"
                        class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20 hidden">
                        <div class="bg-white rounded-lg p-6 w-full max-w-md">
                            <h3 class="text-lg font-semibold mb-4">Create New Category</h3>
                            <form id="createCategoryForm">
                                <input type="text" id="newCategoryInput" placeholder="Category name"
                                    class="w-full px-4 py-2 border rounded-lg mb-4 focus:outline-none focus:border-green-500">
                                <div class="flex justify-end gap-2">
                                    <button type="button" id="cancelCreateCategoryBtn"
                                        class="px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg">
                                        Cancel
                                    </button>
                                    <button type="submit" id="create-category-btn"
                                        class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                                        Create
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>


            </div>
    </div>

    </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
    <!-- <script>
        
      
        const categories = [
            { id: '1', name: 'Microphone' },
            { id: '2', name: 'Microphone Pro' },
            { id: '3', name: 'Audio Equipment' },
        ];
        const selectedCategories = [];

        const categoryDropdown = document.getElementById('categoryDropdown');
        const toggleDropdownBtn = document.getElementById('toggleDropdownBtn');
        const searchInput = document.getElementById('searchInput');
        const categoryList = document.getElementById('categoryList');
        const selectedCategoriesDiv = document.getElementById('selectedCategories');
        const openCreateModalBtn = document.getElementById('openCreateModalBtn');
        const createCategoryModal = document.getElementById('createCategoryModal');
        const createCategoryForm = document.getElementById('createCategoryForm');
        const newCategoryInput = document.getElementById('newCategoryInput');
        const cancelCreateCategoryBtn = document.getElementById('cancelCreateCategoryBtn');

        // Toggle dropdown visibility
        toggleDropdownBtn.addEventListener('click', () => {
            categoryDropdown.classList.toggle('hidden');
            document.getElementById('dropdownIcon').textContent = categoryDropdown.classList.contains('hidden') ? '▼' : '▲';
        });

        // Filter categories based on search input
        searchInput.addEventListener('input', () => {
            const searchTerm = searchInput.value.toLowerCase();
            const filteredCategories = categories.filter(category => category.name.toLowerCase().includes(searchTerm));
            renderCategoryList(filteredCategories);
        });

        // Render category list
        function renderCategoryList(filteredCategories) {
            categoryList.innerHTML = '';
            filteredCategories.forEach(category => {
                const categoryBtn = document.createElement('button');
                categoryBtn.className = 'w-full px-4 py-2 text-left hover:bg-purple-50 flex items-center justify-between';
                categoryBtn.textContent = category.name;
                categoryBtn.addEventListener('click', () => toggleCategorySelection(category));
                categoryList.appendChild(categoryBtn);
            });
        }

        // Toggle category selection
        function toggleCategorySelection(category) {
            const index = selectedCategories.findIndex(selectedCategory => selectedCategory.id === category.id);
            if (index !== -1) {
                selectedCategories.splice(index, 1); // Deselect
            } else {
                selectedCategories.push(category); // Select
            }
            renderSelectedCategories();
        }

        // Render selected categories
        function renderSelectedCategories() {
            selectedCategoriesDiv.innerHTML = '';
            selectedCategories.forEach(category => {
                const categoryTag = document.createElement('span');
                categoryTag.className = 'inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm';
                categoryTag.textContent = category.name;
                const removeBtn = document.createElement('button');
                removeBtn.innerHTML = '×';
                removeBtn.className = 'hover:text-purple-950';
                removeBtn.addEventListener('click', () => toggleCategorySelection(category));
                categoryTag.appendChild(removeBtn);
                selectedCategoriesDiv.appendChild(categoryTag);
            });
        }

        // Open modal for creating new category
        openCreateModalBtn.addEventListener('click', () => {
            createCategoryModal.classList.remove('hidden');
        });

        // Cancel creating new category
        cancelCreateCategoryBtn.addEventListener('click', () => {
            createCategoryModal.classList.add('hidden');
        });

        // Create new category
        createCategoryForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const newCategoryName = newCategoryInput.value.trim();
            if (newCategoryName) {
                const newCategory = { id: Date.now().toString(), name: newCategoryName };
                categories.push(newCategory);
                renderCategoryList(categories); // Re-render the category list
                selectedCategories.push(newCategory); // Auto-select new category
                renderSelectedCategories();
                newCategoryInput.value = '';
                createCategoryModal.classList.add('hidden');
            }
        });

        // Initial render of categories
        renderCategoryList(categories);



        function toggleDropdown() {
            console.log("Reacched")
            const dropdown = document.getElementById('productsDropdown');
            const arrow = document.getElementById('dropdownArrow');
            dropdown.classList.toggle('hidden');
            arrow.classList.toggle('rotate-180');
        }
        function toggleDropdown2() {
            console.log("Reacched")
            const dropdown = document.getElementById('productsDropdown2');
            const arrow = document.getElementById('dropdownArrow2');
            dropdown.classList.toggle('hidden');
            arrow.classList.toggle('rotate-180');
        }
    </script> -->
    <script src="js/product.js"></script>
    <script src="js/category.js"></script>
</body>

</html>
